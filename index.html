<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>エクスプレスパス診断（2026年3月・4月限定）| USJ攻略</title>
  <meta name="description" content="4つの質問に答えるだけで、あなたにピッタリのUSJエクスプレスパスが具体的な価格付きでわかる診断！（2026年3月・4月限定）">
  <meta property="og:title" content="あなたにピッタリのエクスプレスパスは？（2026年3月・4月限定）">
  <meta property="og:description" content="4つの質問であなた専用のパスを診断！その日の価格もわかります。">
  <meta property="og:type" content="website">
  <link rel="stylesheet" href="style.css">
  <script src="https://static.line-scdn.net/liff/edge/versions/2.24.0/sdk.js"></script>
</head>
<body>

  <!-- ローディング画面 -->
  <div id="screen-loading" class="screen">
    <div class="container">
      <div class="loading-content">
        <div class="loading-spinner"></div>
        <p class="loading-text">読み込み中...</p>
      </div>
    </div>
  </div>

  <!-- LIFF エラー画面 -->
  <div id="screen-liff-error" class="screen hidden">
    <div class="container">
      <img src="images/header.png" alt="USJ攻略" class="header-image">
      <div class="top-content">
        <img src="images/character.png" alt="たまご" class="character-image">
        <h1 class="top-title">LINEから<br>アクセスしてね</h1>
        <p class="top-description">この診断はLINEアプリから<br>ご利用ください。</p>
      </div>
      <img src="images/footer.png" alt="たまご" class="footer-image">
    </div>
  </div>

  <!-- 登録画面 -->
  <div id="screen-register" class="screen hidden">
    <div class="container">
      <img src="images/header.png" alt="USJ攻略" class="header-image">
      <div class="register-box">
        <img src="images/character.png" alt="たまご" class="character-image">
        <p class="register-title">登録すると診断の履歴が保存されます</p>
        <p id="register-welcome" class="register-welcome"></p>

        <div class="form-group">
          <label class="form-label">生年月日</label>
          <div class="birthday-selects">
            <select id="reg-year" class="form-select">
              <option value="">年</option>
            </select>
            <select id="reg-month" class="form-select">
              <option value="">月</option>
            </select>
            <select id="reg-day" class="form-select">
              <option value="">日</option>
            </select>
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">性別</label>
          <div class="gender-buttons">
            <button type="button" class="gender-btn" data-gender="male">男性</button>
            <button type="button" class="gender-btn" data-gender="female">女性</button>
          </div>
        </div>

        <div class="privacy-agree">
          <label class="checkbox-label">
            <input type="checkbox" id="privacy-checkbox">
            <span><a href="#" id="privacy-link-reg" class="privacy-link-inline">プライバシーポリシー</a>に同意する</span>
          </label>
        </div>

        <button id="register-btn" class="btn btn-primary btn-large" disabled>はじめる</button>
        <p id="register-error" class="error-message hidden">すべての項目を入力してください</p>
      </div>
      <img src="images/footer.png" alt="たまご" class="footer-image">
    </div>
  </div>

  <!-- プライバシーポリシー モーダル -->
  <div id="privacy-modal" class="modal-overlay hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">プライバシーポリシー</h2>
        <button id="modal-close" class="modal-close" aria-label="閉じる">&times;</button>
      </div>
      <div class="modal-body">
        <p class="privacy-notice">※本サービスは、ユニバーサル・スタジオ・ジャパン（USJ）および合同会社ユー・エス・ジェイとは一切関係のない非公式の個人運営サービスです。</p>

        <p>エクスプレスパス診断（以下「本サービス」）は、Instagram @tamago_usj_guide（以下「運営者」）が提供する診断コンテンツです。本サービスの利用にあたり、以下のとおり個人情報の取り扱いについて定めます。</p>

        <h3>1. 収集する情報</h3>
        <p>本サービスでは、以下の情報を収集します。</p>
        <ul>
          <li>LINEアカウント名（LINE連携時に自動取得）</li>
          <li>生年月日</li>
          <li>性別</li>
          <li>診断の回答データ（選択内容・診断結果）</li>
          <li>利用日時</li>
        </ul>

        <h3>2. 利用目的</h3>
        <p>収集した情報は、以下の目的に利用します。</p>
        <ul>
          <li>診断履歴の管理および表示</li>
          <li>サービスの改善・コンテンツの充実</li>
          <li>利用状況の分析</li>
        </ul>

        <h3>3. 第三者への提供</h3>
        <p>収集した情報を第三者に提供・販売することはありません。</p>

        <h3>4. 情報の管理</h3>
        <p>収集した情報は、アクセス制限を設けた環境にて適切に管理し、不正アクセスや漏洩の防止に努めます。</p>

        <h3>5. 情報の保持期間</h3>
        <p>収集した情報は、本サービスの運営に必要な期間保持します。</p>

        <h3>6. 開示・削除の請求</h3>
        <p>ご自身の情報の開示・訂正・削除を希望される場合は、Instagramアカウント @tamago_usj_guide のDMよりご連絡ください。合理的な期間内に対応いたします。</p>

        <h3>7. 本ポリシーの変更</h3>
        <p>本ポリシーは、必要に応じて変更する場合があります。変更があった場合は、本サービス上にてお知らせします。</p>

        <h3>8. お問い合わせ</h3>
        <p>本ポリシーに関するお問い合わせは、Instagram @tamago_usj_guide のDMよりお願いいたします。</p>

        <p class="privacy-date">最終更新日: 2026年2月13日</p>
      </div>
    </div>
  </div>

  <!-- トップ画面 -->
  <div id="screen-top" class="screen hidden">
    <div class="container">
      <img src="images/header.png" alt="USJ攻略" class="header-image">
      <div class="top-content">
        <img src="images/character.png" alt="たまご" class="character-image">
        <h1 class="top-title">あなたにピッタリの<br>エクスプレスパスは？</h1>
        <p class="top-period">2026年3月・4月限定</p>
        <p class="top-description">4つの質問であなた専用のパスを診断<br>その日の価格もわかります</p>
        <button id="start-btn" class="btn btn-primary btn-large">診断スタート</button>
        <button id="history-btn" class="btn btn-secondary btn-large hidden">過去の診断結果を見る</button>
        <div class="disclaimer-box">
          <p>※本サービスはUSJ公式ではありません。</p>
          <p>※日付によっては完売している場合があります。</p>
          <p>※価格・内容は予告なく変更される場合があります。<br>必ず<a href="https://store.usj.co.jp/ja/jp/c/ticket" target="_blank" rel="noopener">公式サイト</a>で最新情報をご確認ください。</p>
          <p class="last-updated">最終データ更新: 2026年2月12日</p>
        </div>
      </div>
      <img src="images/footer.png" alt="たまご" class="footer-image">
    </div>
  </div>

  <!-- Q1: 日付選択 -->
  <div id="screen-date" class="screen hidden">
    <div class="container">
      <div class="quiz-header">
        <div class="progress-info">
          <span class="q-number">1</span> / <span class="q-total">4</span>
        </div>
        <div class="progress-bar">
          <div class="progress-fill" style="width: 25%"></div>
        </div>
      </div>
      <div class="quiz-body">
        <p class="question-text">いつ行く？</p>
        <div class="month-tabs">
          <button class="month-tab active" data-month="3">3月</button>
          <button class="month-tab" data-month="4">4月</button>
        </div>
        <div id="calendar-container"></div>
      </div>
    </div>
  </div>

  <!-- Q2: 身長確認 -->
  <div id="screen-height" class="screen hidden">
    <div class="container">
      <div class="quiz-header">
        <div class="progress-info">
          <span class="q-number">2</span> / <span class="q-total">4</span>
        </div>
        <div class="progress-bar">
          <div class="progress-fill" style="width: 50%"></div>
        </div>
      </div>
      <div class="quiz-body">
        <p class="question-text">一番小さいお子さまの身長は？</p>
        <p class="question-note">※USJでは靴を履いた状態で計測されます</p>
        <div id="height-choices" class="choices-container"></div>
      </div>
    </div>
  </div>

  <!-- Q3: 乗りたいアトラクション -->
  <div id="screen-attractions" class="screen hidden">
    <div class="container">
      <div class="quiz-header">
        <div class="progress-info">
          <span class="q-number">3</span> / <span class="q-total">4</span>
        </div>
        <div class="progress-bar">
          <div class="progress-fill" style="width: 75%"></div>
        </div>
      </div>
      <div class="quiz-body">
        <p class="question-text">絶対乗りたいアトラクションは？</p>
        <p class="question-note">あてはまるものを全部選んでね</p>
        <div id="attraction-choices" class="choices-container"></div>
        <button id="attraction-next-btn" class="btn btn-primary btn-large">次へ</button>
      </div>
    </div>
  </div>

  <!-- Q4: 予算 -->
  <div id="screen-budget" class="screen hidden">
    <div class="container">
      <div class="quiz-header">
        <div class="progress-info">
          <span class="q-number">4</span> / <span class="q-total">4</span>
        </div>
        <div class="progress-bar">
          <div class="progress-fill" style="width: 100%"></div>
        </div>
      </div>
      <div class="quiz-body">
        <p class="question-text">予算はどのくらい？</p>
        <div id="budget-choices" class="choices-container"></div>
      </div>
    </div>
  </div>

  <!-- 結果画面 -->
  <div id="screen-result" class="screen hidden">
    <div class="container">
      <img src="images/header.png" alt="USJ攻略" class="header-image">
      <div class="result-content">
        <h2 class="result-heading">あなたへのおすすめ</h2>

        <!-- メインおすすめカード -->
        <div id="main-result"></div>

        <!-- 他の候補 -->
        <div id="other-results"></div>

        <!-- たまごのプランニング -->
        <div id="planning-cta" class="planning-cta">
          <img src="images/tamago-profile.jpg" alt="たまご｜ユニバプランの先生" class="planning-cta-profile">
          <p class="planning-cta-title">あなた専用のUSJプラン</p>
          <p class="planning-cta-price">7,000〜15,000円</p>
          <div class="planning-cta-body">
            <p class="planning-cta-point">エクスプレス・パス代</p>
            <p class="planning-cta-point">家族4人分で<strong>10万超</strong></p>
            <p class="planning-cta-point">実績<strong>100件超</strong>の安心サポート</p>
            <p class="planning-cta-dm">「プランニングについて」とDMしてね</p>
          </div>
          <div class="planning-cta-links">
            <a href="https://www.instagram.com/p/DF2UkeSyGdg/?img_index=1" target="_blank" rel="noopener" class="btn btn-planning">プランニングの詳細</a>
            <a href="https://www.instagram.com/tamago_usj_guide/" target="_blank" rel="noopener" class="btn btn-planning-sub">Instagramへ</a>
          </div>
        </div>

        <!-- 公式サイト誘導（強調） -->
        <div class="official-link-box">
          <p class="official-link-lead">購入・最新情報は必ず公式サイトで確認してください</p>
          <a href="https://store.usj.co.jp/ja/jp/c/ticket" target="_blank" rel="noopener" class="btn btn-official btn-large">USJ公式サイトで購入する</a>
        </div>

        <!-- アクション -->
        <div class="result-actions">
          <button id="retry-btn" class="btn btn-primary btn-large">もう一度やる</button>
        </div>

        <div class="disclaimer-box">
          <p>※本サービスはUSJ公式ではありません。</p>
          <p>※日付によっては完売している場合があります。</p>
          <p>※価格・内容は予告なく変更される場合があります。<br>必ず<a href="https://store.usj.co.jp/ja/jp/c/ticket" target="_blank" rel="noopener">公式サイト</a>で最新情報をご確認ください。</p>
          <p class="last-updated">最終データ更新: 2026年2月12日</p>
        </div>
      </div>
      <img src="images/footer.png" alt="たまご" class="footer-image">
    </div>
  </div>

  <!-- 履歴画面 -->
  <div id="screen-history" class="screen hidden">
    <div class="container">
      <img src="images/header.png" alt="USJ攻略" class="header-image">
      <div class="result-content">
        <h2 class="result-heading">過去の診断結果</h2>
        <div id="history-list"></div>
        <div class="result-actions">
          <button id="history-back-btn" class="btn btn-primary btn-large">トップに戻る</button>
        </div>
      </div>
      <img src="images/footer.png" alt="たまご" class="footer-image">
    </div>
  </div>

  <!-- 期限切れ画面 -->
  <div id="screen-expired" class="screen hidden">
    <div class="container">
      <img src="images/header.png" alt="USJ攻略" class="header-image">
      <div class="top-content">
        <img src="images/character.png" alt="たまご" class="character-image">
        <h1 class="top-title">診断期間が<br>終了しました</h1>
        <p class="top-description">この診断は2026年3月・4月限定です。<br>最新のエクスプレス・パス情報は<br>公式サイトをご確認ください。</p>
        <a href="https://store.usj.co.jp/ja/jp/c/ticket" target="_blank" rel="noopener" class="btn btn-official btn-large">USJ公式サイトへ</a>
      </div>
      <img src="images/footer.png" alt="たまご" class="footer-image">
    </div>
  </div>

  <!-- サイト共通フッター -->
  <footer class="site-footer">
    <p>本サービスはUSJ（ユニバーサル・スタジオ・ジャパン）とは一切関係のない非公式・個人制作のツールです。</p>
    <p>掲載情報の正確性は保証しません。最新情報は必ず<a href="https://store.usj.co.jp/ja/jp/c/ticket" target="_blank" rel="noopener">公式サイト</a>でご確認ください。</p>
  </footer>

  <script src="data.js"></script>
  <script src="app.js"></script>
</body>
</html>
